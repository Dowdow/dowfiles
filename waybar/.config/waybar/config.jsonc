{
  "layer": "top",
  "output": ["eDP-1", "DP-1"],
  "spacing": 4,
  "modules-left": [
    "custom/launcher",
    "tray",
    "custom/pacman",
    "custom/spotify",
  ],
  "modules-center": ["hyprland/workspaces"],
  "modules-right": [
    "cpu",
    "memory",
    "temperature",
    "custom/nvidia",
    "network",
    "bluetooth",
    "battery",
    "wireplumber",
    "clock",
  ],
  "custom/launcher": {
    "format": "🦆",
    "tooltip": false,
    "on-click": "if pgrep wofi > /dev/null; then killall wofi; else ~/.config/wofi/powermenu.sh; fi",
  },
  "custom/pacman": {
    "format": "  {}",
    "interval": 60,
    "exec": "checkupdates | wc -l",
    "exec-if": "[ $(checkupdates | wc -l) -gt 0 ]",
  },
  "custom/spotify": {
    "format": "  {icon} {text}",
    "format-icons": {
      "playing": "",
      "paused": "",
      "stopped": "",
    },
    "escape": true,
    "hide-empty-text": true,
    "return-type": "json",
    "max-length": 40,
    "on-click": "playerctl -p spotify play-pause",
    "exec": "~/.config/waybar/player.sh spotify 2> /dev/null",
    "exec-if": "pgrep spotify",
  },
  "tray": {
    "spacing": 10,
    "icon-size": 16,
  },
  "hyprland/workspaces": {
    "all-outputs": true,
    "show-special": true,
  },
  "cpu": {
    "tooltip": false,
    "format": "  {usage}%",
  },
  "memory": {
    "tooltip": false,
    "format": " {}%",
  },
  "temperature": {
    "hwmon-path": "/sys/devices/platform/coretemp.0/hwmon/hwmon3/temp1_input",
    "tooltip": false,
    "critical-threshold": 80,
    "format": "{icon} {temperatureC}°C",
    "format-icons": ["", "", "", "", ""],
  },
  "custom/nvidia": {
    "format": " {}",
    "interval": 2,
    "exec": "nvidia-smi --query-gpu=utilization.gpu,temperature.gpu --format=csv,nounits,noheader | sed 's/\\([0-9]\\+\\), \\([0-9]\\+\\)/\\1% \\2°C/g'",
    "exec-if": "command -v nvidia-smi >/dev/null 2>&1",
  },
  "network": {
    "tooltip": false,
    "format-wifi": "  {essid}",
    "format-ethernet": " {ifname}",
    "format-disconnected": " d/c",
    "on-click": "alacritty -e nmtui",
  },
  "bluetooth": {
    "tooltip": false,
    "format": " {status}",
    "format-disabled": "",
    "format-no-controller": "",
    "format-connected": " {device_alias}",
    "format-connected-battery": " {device_alias} {device_battery_percentage}%",
    "on-click": "blueman-manager",
  },
  "battery": {
    "tooltip": false,
    "states": {
      "good": 95,
      "warning": 30,
      "critical": 20,
    },
    "format": "{icon}  {capacity}%",
    "format-time": "{H} h {m} min",
    "format-charging": " {capacity}%",
    "format-full": " {capacity}%",
    "format-alt": "{icon}  {time}",
    "format-icons": ["", "", "", "", ""],
  },
  "wireplumber": {
    "tooltip": false,
    "format": "{icon} {volume}%",
    "format-muted": " {volume}%",
    "max-volume": 100,
    "format-icons": ["", "", " "],
  },
  "clock": {
    "tooltip": false,
    "timezone": "Europe/Paris",
    "format": "  {:%a %d/%m/%Y    %H:%M}",
    "on-click": "gnome-calendar",
  },
}
